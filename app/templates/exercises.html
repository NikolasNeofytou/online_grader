<!DOCTYPE html>
<html>
<head>
    <title>Exercises</title>

    <style>
        textarea { width: 100%; height: 300px; }
        pre { background: #eee; padding: 10px; }
    </style>
</head>
<body>
    <h1>Exercises</h1>
    <nav>
        <ul>
        {% for i, ex in enumerate(exercises) %}
            <li><a href="{{ url_for('exercises_view', id=i) }}">{{ ex.title }}</a></li>
        {% endfor %}
        </ul>
    </nav>
    <h2>{{ exercise.title }}</h2>
    <p>{{ exercise.description }}</p>

    <form method="post">
        <textarea name="code" placeholder="Enter your C++ code here">{{ code }}</textarea>
        <br>
        <button type="submit">Run</button>
    </form>

    {% if result %}
    <h3>Result</h3>
    <pre>{{ result }}</pre>
    {% endif %}

    {% if show_solution %}
    <h3>Solution</h3>
    <pre>{{ exercise.solution_code }}</pre>
    {% else %}
    <p>Attempts: {{ attempts }} (solution available after 3 attempts)</p>
    {% endif %}

</body>
</html>
